<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>🌙 Quran Ayat Quiz Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <style>
    /* Only for radio button spacing */
    #modeForm label {
      display: block;
      margin-bottom: 14px;
      margin-top: 6px;
      text-align: left;
      padding-left: 8px;
    }
    #modeForm input[type="radio"] {
      margin-right: 10px;
      margin-left: 0px;
      transform: scale(1.22);
    }
    /* Hide search outside welcome screen */
    #searchSection { width:100%; }
    .hidden { display: none !important; }
  </style>
</head>
<body>
<div id="loader" class="loader hidden">Loading Quran Data...</div>

<!-- WELCOME + MODE SELECTION + SEARCH -->
<div id="welcomeScreen" class="centered fade-in">
  <h1>🌙 Welcome to the Quran Game</h1>
  <form id="modeForm" style="margin-bottom:22px;">
    <label><input type="radio" name="quizMode" value="practice" checked> 🎯 Practice Mode (unlimited)</label>
    <label><input type="radio" name="quizMode" value="timed"> ⏱️ Timed Challenge (10 Qs, 30 sec each)</label>
    <label><input type="radio" name="quizMode" value="survival"> 💥 Survival Mode (wrong = game over)</label>
  </form>
  <button class="start-button" onclick="showSection('paraSelectScreen')">▶️ Start Game</button>
  <!-- SEARCH SIRF YAHAN HAI -->
  <div id="searchSection" class="search-section" style="margin-top:40px;">
    <input id="searchInput" type="text" placeholder="Ayat, Surah, Page, Para se search karein">
    <button class="submit-button" onclick="searchAyats()">Search</button>
    <div id="searchResults"></div>
  </div>
</div>

<!-- PARA SELECTION -->
<div id="paraSelectScreen" class="centered hidden">
  <div class="quiz-section">
    <h2>🌙 Para Range Select Karein</h2>
    <div class="input-group">
      <label class="input-label" for="fromPara">From Para (1–30):</label>
      <input id="fromPara" type="number" min="1" max="30" placeholder="e.g. 1">
    </div>
    <div class="input-group">
      <label class="input-label" for="toPara">To Para (1–30):</label>
      <input id="toPara" type="number" min="1" max="30" placeholder="e.g. 30">
    </div>
    <button class="submit-button" onclick="startGame()">Submit</button>
    <div id="selectError" class="error hidden"></div>
  </div>
</div>

<!-- QUIZ -->
<div id="quizScreen" class="centered hidden">
  <div class="quiz-section">
    <div id="quizProgress"></div>
    <h2>📖 Ye Ayat Pehchaniye</h2>
    <div id="ayatText" class="ayat"></div>
    <button id="copyAyatBtn" class="small-button" onclick="copyAyat()" title="Copy Ayat">📋</button>
    <button id="hintBtn" class="small-button" onclick="showHint()">💡 Hint Do</button>
    <span id="hintInfo" style="margin-left:9px; font-size:0.98em;"></span>
    <form id="answerForm" onsubmit="return checkAnswer();">
      <div class="input-group">
        <label class="input-label" for="user_page">Page Number (Optional)</label>
        <input id="user_page" type="number" min="1" max="604" placeholder="Page Number">
      </div>
      <div class="input-group">
        <label class="input-label" for="user_para">Para Number</label>
        <input id="user_para" type="number" min="1" max="30" placeholder="Para Number">
      </div>
      <div class="input-group">
        <label class="input-label" for="user_page_in_para">Page In Para</label>
        <input id="user_page_in_para" type="number" min="1" max="20" placeholder="Page In Para">
      </div>
      <div class="input-group">
        <label class="input-label" for="user_surah">Surah Name (Optional)</label>
        <input id="user_surah" type="text" placeholder="Surah Name">
      </div>
      <button class="submit-button" type="submit">Check</button>
    </form>
    <div id="quizError" class="error hidden"></div>
    <div id="quizResult" class="result hidden"></div>
    <div id="survivalAnswer" class="result hidden" style="font-size:1.08em; background:#ffeecf; color:#27462b; margin-bottom:12px;"></div>
    <button class="next-button hidden" onclick="nextQuestion()">Agla Sawal</button>
    <button class="next-button hidden" id="tryAgainBtn" onclick="restartGame()">Try Again</button>
    <div id="scoreBoard"></div>
    <div id="timer" style="margin-top:10px; font-size:1.15em;"></div>
  </div>
</div>

<!-- RESULT -->
<div id="resultScreen" class="centered hidden">
  <div class="quiz-section">
    <h2>🎉 Quiz Khatam!</h2>
    <div id="finalResult"></div>
    <button class="start-button" onclick="restartGame(true)">🏠 Home</button>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>
